(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{1561:function(n,e,t){"use strict";var r=t("7a3b"),a=t.n(r);a.a},"1de5":function(n,e,t){"use strict";n.exports=function(n,e){return e||(e={}),n=n&&n.__esModule?n.default:n,"string"!==typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},5405:function(n,e,t){var r=t("24fb"),a=t("1de5"),o=t("ea71");e=r(!1);var i=a(o);e.push([n.i,".login[data-v-1247d220] {width:100vw;height:100vh;padding:%?400?% %?40?% %?40?%;background-blend-mode:darken;background-image:url("+i+");background-color:rgba(0,0,0,.2);background-repeat:no-repeat;background-size:cover;background-position:center 0;color:#fff}.login[data-v-1247d220]  .login-form .login-form-item uni-input{padding:%?20?% 0;font-size:%?38?%;border-bottom:%?1?% solid hsla(0,0%,100%,.2)}.login[data-v-1247d220]  .login-form .login-form-item uni-input .input-placeholder{color:#fff}.login[data-v-1247d220]  .login-form .button{margin-top:%?30?%}.login[data-v-1247d220]  .login-form .button::after{border:none}.login[data-v-1247d220]  .login-form .login-btn{color:#fff;background-color:rgba(24,180,237,.8)}.login[data-v-1247d220]  .login-form .login-btn.login-btn-hover{background-color:rgba(7,148,214,.8)}.login[data-v-1247d220]  .login-form .register-btn{background-color:hsla(0,0%,100%,.8)}.login[data-v-1247d220]  .login-form .register-btn.register-btn-hover{color:#fff;background-color:rgba(0,0,0,.3)}",""]),n.exports=e},"7a3b":function(n,e,t){var r=t("5405");"string"===typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);var a=t("4f06").default;a("1fd2de60",r,!0,{sourceMap:!1,shadowMode:!1})},a86a:function(n,e,t){"use strict";t.r(e);var r=t("e082"),a=t("c66f");for(var o in a)["default"].indexOf(o)<0&&function(n){t.d(e,n,(function(){return a[n]}))}(o);t("1561");var i,s=t("f0c5"),u=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"1247d220",null,!1,r["a"],i);e["default"]=u.exports},c66f:function(n,e,t){"use strict";t.r(e);var r=t("e9b9"),a=t.n(r);for(var o in r)["default"].indexOf(o)<0&&function(n){t.d(e,n,(function(){return r[n]}))}(o);e["default"]=a.a},e082:function(n,e,t){"use strict";var r;t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return r}));var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"login"},[t("v-uni-form",{staticClass:"login-form"},[t("v-uni-view",{staticClass:"login-form-item"},[t("v-uni-input",{staticClass:"input",attrs:{maxlength:"16",placeholder:"QQ号/手机号/邮箱"},model:{value:n.username,callback:function(e){n.username=e},expression:"username"}})],1),t("v-uni-view",{staticClass:"login-form-item"},[t("v-uni-input",{staticClass:"input",attrs:{password:!0,maxlength:"16",placeholder:"密码"},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}})],1),t("v-uni-view",{staticClass:"uni-btn-v"},[t("v-uni-button",{staticClass:"button login-btn",attrs:{loading:n.loginLoading,disabled:n.isDisabled,"hover-class":"login-btn-hover"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.login.apply(void 0,arguments)}}},[n._v("登录")]),t("v-uni-button",{staticClass:"button register-btn",attrs:{loading:n.registerLoading,disabled:n.isDisabled,"hover-class":"register-btn-hover"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.register.apply(void 0,arguments)}}},[n._v("注册")])],1)],1)],1)},o=[]},e9b9:function(n,e,t){"use strict";var r=t("4ea4");t("d3b7"),t("ac1f"),t("5319"),t("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(t("5530"));t("96cf");var o=r(t("1da1")),i=t("a6f4"),s=r(t("0613")),u=(0,i.defineComponent)({name:"Login",setup:function(n,e){var t=e.root,r=(0,i.reactive)({username:"",password:"",loginLoading:!1,registerLoading:!1}),u=(0,i.computed)((function(){return r.registerLoading||r.loginLoading})),c=function(){return""==r.username.trim()||""==r.password.trim()},l=function(){var n=(0,o.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return uni.showLoading({title:"聊天数据加载中"}),n.next=3,s.default.dispatch("chat/connectSocket");case 3:uni.hideLoading(),setTimeout((function(){t.$Router.replace({name:"index"})}),100);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.default)(regeneratorRuntime.mark((function n(){var e,t,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!c()){n.next=2;break}return n.abrupt("return",uni.showToast({title:"用户名或密码不能为空",icon:"none"}));case 2:return r.loginLoading=!0,e=r.username,t=r.password,a={username:e,password:t},n.next=7,s.default.dispatch("app/login",a).finally((function(){return r.loginLoading=!1}));case 7:if(o=n.sent,!o){n.next=11;break}return n.next=11,l();case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,o.default)(regeneratorRuntime.mark((function n(){var e,t,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!c()){n.next=2;break}return n.abrupt("return",uni.showToast({title:"用户名或密码不能为空",icon:"none"}));case 2:return r.registerLoading=!0,e=r.username,t=r.password,a={username:e,password:t,createTime:Date.now()},n.next=7,s.default.dispatch("app/register",a).finally((function(){return r.registerLoading=!1}));case 7:if(o=n.sent,!o){n.next=11;break}return n.next=11,l();case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,a.default)((0,a.default)({},(0,i.toRefs)(r)),{},{isDisabled:u,login:d,register:f})}});e.default=u},ea71:function(n,e,t){n.exports=t.p+"static/img/bg_login.6d8acec9.jpg"}}]);