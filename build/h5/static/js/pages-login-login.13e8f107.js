(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"1de5":function(n,e,t){"use strict";n.exports=function(n,e){return e||(e={}),n=n&&n.__esModule?n.default:n,"string"!==typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},"1e87":function(n,e,t){"use strict";var o;t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}));var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"login"},[t("v-uni-form",{staticClass:"login-form"},[t("v-uni-view",{staticClass:"login-form-item"},[t("v-uni-input",{staticClass:"input",attrs:{maxlength:"16",placeholder:"QQ号/手机号/邮箱"},model:{value:n.username,callback:function(e){n.username=e},expression:"username"}})],1),t("v-uni-view",{staticClass:"login-form-item"},[t("v-uni-input",{staticClass:"input",attrs:{password:!0,maxlength:"16",placeholder:"密码"},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}})],1),t("v-uni-view",{staticClass:"uni-btn-v"},[t("v-uni-button",{staticClass:"button login-btn",attrs:{loading:n.loginLoading,disabled:n.isDisabled,"hover-class":"login-btn-hover"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.login.apply(void 0,arguments)}}},[n._v("登录")]),t("v-uni-button",{staticClass:"button register-btn",attrs:{loading:n.registerLoading,disabled:n.isDisabled,"hover-class":"register-btn-hover"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.register.apply(void 0,arguments)}}},[n._v("注册")])],1)],1)],1)},i=[]},"5a75":function(n,e,t){var o=t("a1ba");"string"===typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var a=t("4f06").default;a("7182ead0",o,!0,{sourceMap:!1,shadowMode:!1})},a1ba:function(n,e,t){var o=t("24fb"),a=t("1de5"),i=t("ea71");e=o(!1);var r=a(i);e.push([n.i,".login[data-v-396d05ed] {width:100vw;height:100vh;padding:%?400?% %?40?% %?40?%;background-blend-mode:darken;background-image:url("+r+");background-color:rgba(0,0,0,.2);background-repeat:no-repeat;background-size:cover;background-position:center 0;color:#fff}.login[data-v-396d05ed]  .login-form .login-form-item uni-input{padding:%?20?% 0;font-size:%?38?%;border-bottom:%?1?% solid hsla(0,0%,100%,.2)}.login[data-v-396d05ed]  .login-form .login-form-item uni-input .input-placeholder{color:#fff}.login[data-v-396d05ed]  .login-form .button{margin-top:%?30?%}.login[data-v-396d05ed]  .login-form .button::after{border:none}.login[data-v-396d05ed]  .login-form .login-btn{color:#fff;background-color:rgba(24,180,237,.8)}.login[data-v-396d05ed]  .login-form .login-btn.login-btn-hover{background-color:rgba(7,148,214,.8)}.login[data-v-396d05ed]  .login-form .register-btn{background-color:hsla(0,0%,100%,.8)}.login[data-v-396d05ed]  .login-form .register-btn.register-btn-hover{color:#fff;background-color:rgba(0,0,0,.3)}",""]),n.exports=e},a86a:function(n,e,t){"use strict";t.r(e);var o=t("1e87"),a=t("c66f");for(var i in a)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return a[n]}))}(i);t("bf46");var r,s=t("f0c5"),u=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"396d05ed",null,!1,o["a"],r);e["default"]=u.exports},bf46:function(n,e,t){"use strict";var o=t("5a75"),a=t.n(o);a.a},c66f:function(n,e,t){"use strict";t.r(e);var o=t("e9b9"),a=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=a.a},e9b9:function(n,e,t){"use strict";(function(n){var o=t("4ea4");t("d3b7"),t("ac1f"),t("5319"),t("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(t("5530"));t("96cf");var i=o(t("1da1")),r=t("a6f4"),s=o(t("0613")),u=(0,r.defineComponent)({name:"Login",setup:function(e,t){var o=t.root,u=(0,r.reactive)({username:"",password:"",loginLoading:!1,registerLoading:!1}),l=(0,r.computed)((function(){return u.registerLoading||u.loginLoading})),d=function(){return""==u.username.trim()||""==u.password.trim()},c=function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!d()){e.next=2;break}return e.abrupt("return",uni.showToast({title:"用户名或密码不能为空",icon:"none"}));case 2:return u.loginLoading=!0,t=u.username,a=u.password,n.log(t,a),e.next=7,s.default.dispatch("app/login",{username:t,password:a}).finally((function(){return u.loginLoading=!1}));case 7:if(i=e.sent,!i){e.next=14;break}return uni.showLoading({title:"聊天信息加载中"}),e.next=12,s.default.dispatch("chat/connectSocket");case 12:uni.hideLoading(),setTimeout((function(){o.$Router.replace({name:"index"})}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){if(d())return uni.showToast({title:"用户名或密码不能为空",icon:"none"});u.registerLoading=!0;var e=u.username,t=u.password;n.log(e,t),setTimeout((function(){u.registerLoading=!1}),1e3)};return(0,a.default)((0,a.default)({},(0,r.toRefs)(u)),{},{isDisabled:l,login:c,register:f})}});e.default=u}).call(this,t("5a52")["default"])},ea71:function(n,e,t){n.exports=t.p+"static/img/bg_login.6d8acec9.jpg"}}]);